webpackJsonp([5],{LxSR:function(t,e){},wXed:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("0RrJ"),o={name:"UserList",watch:{"$store.state.listenMembers":function(){console.log("父组件检测到变化"),this.refreshOnlineData()}},data:function(){return{me:this.$store.state.globalUserName,count:"",people:[],myAvatar:"",img_src:[n("iDO4"),n("kkKX"),n("FdLO"),n("Q7Kr"),n("/PRx"),n("mhzR")],mapImg:[]}},methods:{getdata:function(t,e){var n={};return n[t]=e,n},getName:function(t){return t.userName},getId:function(t){return t.avatarId},refreshOnlineData:function(){var t=this;Object(a.b)({url:this.$store.state.globalUrl+"/getusercount",method:"get"}).then(function(e){t.count=e.data}).catch(function(t){console.log("error connection")}),Object(a.b)({url:this.$store.state.globalUrl+"/fetchAllUsersWithOrder",method:"get"}).then(function(e){var n=e.data.responseContent.contactMap,a=[],o=[];for(var r in n){n[r].forEach(function(e,n,a){var r=t.getdata(e.userName,e.avatarId);o.push(r)});var i=t.getdata(r,n[r]);a.push(i)}t.people=a,t.$store.state.mapImg=o}).catch(function(t){console.log("error connection to name")})},naviToUser:function(t,e){this.avatarId=this.$router.push({path:"/user/chat",query:{id:t,ava:e,myAva:this.myAvatar}})}},created:function(){this.myAvatar=this.$route.query.myAva},destroyed:function(){},activated:function(){this.refreshOnlineData()},deactivated:function(){},beforeMount:function(){},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"list"}},[n("div",[n("button",{attrs:{id:"online-refreshBtn"},on:{click:t.refreshOnlineData}},[t._v("Refresh")])]),t._v(" "),n("div",[n("p",[t._v("\n      OnlineCount:"),n("span",{attrs:{id:"online-count"}},[t._v(t._s(t.count))])]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"50px"},attrs:{id:"allPeople"}},t._l(t.people,function(e){return n("div",[n("div",{staticStyle:{height:"20px",border:"1px black solid","background-color":"black",color:"wheat"}},[t._v(t._s(Object.keys(e)[0]))]),t._v(" "),t._l(e[Object.keys(e)[0]],function(e){return n("div",{staticStyle:{overflow:"hidden",border:"1px gray solid","background-color":"gray"},on:{click:function(n){t.naviToUser(t.getName(e),t.getId(e))}}},[n("div",{staticStyle:{float:"left"}},[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.img_src[t.getId(e)],alt:""}})]),t._v(" "),t.getName(e)===t.me?n("div",{staticStyle:{float:"left","font-size":"25px","font-weight":"bold","line-height":"54px",color:"white"}},[t._v(t._s(t.getName(e))+"(我)")]):n("div",{staticStyle:{float:"left","font-size":"25px","font-weight":"bold","line-height":"54px",color:"white"}},[t._v(t._s(t.getName(e)))])])})],2)}),0)])])},staticRenderFns:[]};var i=n("VU/8")(o,r,!1,function(t){n("LxSR")},"data-v-75d1aae7",null);e.default=i.exports}});
//# sourceMappingURL=5.d43a1d999df65cf049d7.js.map