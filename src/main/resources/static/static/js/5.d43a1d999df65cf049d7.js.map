{"version":3,"sources":["webpack:///src/view/userUI/UserList.vue","webpack:///./src/view/userUI/UserList.vue?c401","webpack:///./src/view/userUI/UserList.vue"],"names":["UserList","name","watch","$store.state.listenMembers","console","log","this","refreshOnlineData","data","me","$store","state","globalUserName","count","people","myAvatar","img_src","__webpack_require__","mapImg","methods","getdata","key","value","keyValue","getName","arr","userName","getId","avatarId","_this","Object","request","url","globalUrl","method","then","res","catch","err","peoples","responseContent","contactMap","ss","tt","forEach","item","index","array","obj","push","naviToUser","toNum","$router","path","query","id","ava","myAva","created","$route","destroyed","activated","deactivated","beforeMount","mounted","userUI_UserList","render","_vm","_h","$createElement","_c","_self","attrs","on","click","_v","_s","staticStyle","margin-bottom","_l","person","height","border","background-color","color","keys","overflow","$event","float","width","src","alt","font-size","font-weight","line-height","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.d43a1d999df65cf049d7.js","sourcesContent":["<template>\n  <div id=\"list\">\n    <div>\n      <button id=\"online-refreshBtn\" @click=\"refreshOnlineData\">Refresh</button>\n    </div>\n    <div>\n      <p>\n        OnlineCount:<span id=\"online-count\">{{count}}</span>\n      </p>\n      <div id=\"allPeople\" style=\"margin-bottom: 50px;\">\n      <div v-for=\"person in people\">\n        <div style=\"height:20px;border: 1px black solid;background-color: black;color: wheat\">{{Object.keys(person)[0]}}</div>\n        <div @click=\"naviToUser(getName(arr),getId(arr))\" v-for=\"arr in person[Object.keys(person)[0]]\" style=\"overflow: hidden;border: 1px gray solid;background-color: gray\">\n          <div style=\"float: left\"><img :src=\"img_src[getId(arr)]\" alt=\"\" style=\"width: 50px;height: 50px\"></div>\n          <div style=\"float: left;font-size: 25px;font-weight: bold;line-height: 54px;color: white\" v-if=\"getName(arr) === me\">{{getName(arr)}}(我)</div>\n          <div style=\"float: left;font-size: 25px;font-weight: bold;line-height: 54px;color: white\" v-else>{{getName(arr)}}</div>\n        </div>\n      </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import {request} from \"../../network/request\";\n  import {request2} from \"../../network/request\";\n\n  export default {\n    name: \"UserList\",\n    watch: {\n      '$store.state.listenMembers'() {\n        console.log('父组件检测到变化')\n        this.refreshOnlineData()\n      },\n    },\n    data() {\n      return {\n        me: this.$store.state.globalUserName,\n        count: '',\n        people: [],\n        myAvatar: '',\n        img_src:\n          [require('assets/img/login_ava/boy.png'),\n          require('assets/img/login_ava/girl.png'),\n          require('assets/img/login_ava/geek.png'),\n          require('assets/img/login_ava/alien.png'),\n          require('assets/img/login_ava/group.png'),\n          require('assets/img/login_ava/robot.png')\n          ],\n        mapImg: [],\n\n      }\n    },\n    methods: {\n      getdata(key, value){\n        let keyValue = {};\n        keyValue[key] = value;\n        return keyValue;\n      },\n      getName(arr) {\n        // console.log(arr)\n        return arr.userName\n      },\n      getId(arr) {\n        return arr.avatarId\n      },\n      refreshOnlineData() {\n        // get current people number\n        request2({\n          url: this.$store.state.globalUrl + '/getusercount',\n          method: 'get'\n        }).then(res => {\n          // console.log(res)\n          this.count = res.data;\n        }).catch(err => {\n          console.log('error connection');\n        });\n        // get people's name\n        request2({\n          url: this.$store.state.globalUrl + \"/fetchAllUsersWithOrder\",\n          method: 'get'\n        }).then(res => {\n          let peoples = res.data.responseContent.contactMap;\n          // console.log(peoples)\n          let ss = []\n          let tt =[]\n          for(let key in peoples){\n            // console.log(key ,'-------' ,peoples[key]);\n            peoples[key].forEach((item, index, array) => {\n              let obj = this.getdata(item.userName, item.avatarId)\n              tt.push(obj)\n            })\n            let obj = this.getdata(key, peoples[key])\n            ss.push(obj)\n          }\n          this.people = ss\n          // this.mapImg = tt\n          this.$store.state.mapImg = tt\n          // console.log(tt)\n          // console.log(this.people)\n\n        }).catch(err => {\n          console.log('error connection to name');\n        });\n      },\n      naviToUser(index, toNum) {\n        this.avatarId =\n        this.$router.push({\n          path: '/user/chat',\n          query: {\n            id: index,\n            ava: toNum,\n            myAva: this.myAvatar\n          }\n        })\n      }\n    },\n    created() {\n      this.myAvatar = this.$route.query.myAva\n    },\n    destroyed() {\n\n    },\n    activated() {\n      // console.log(this.myAvatar)\n      this.refreshOnlineData()\n    },\n    deactivated() {\n\n    },\n    beforeMount() {\n\n    },\n    mounted() {\n\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/userUI/UserList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"list\"}},[_c('div',[_c('button',{attrs:{\"id\":\"online-refreshBtn\"},on:{\"click\":_vm.refreshOnlineData}},[_vm._v(\"Refresh\")])]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"\\n      OnlineCount:\"),_c('span',{attrs:{\"id\":\"online-count\"}},[_vm._v(_vm._s(_vm.count))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-bottom\":\"50px\"},attrs:{\"id\":\"allPeople\"}},_vm._l((_vm.people),function(person){return _c('div',[_c('div',{staticStyle:{\"height\":\"20px\",\"border\":\"1px black solid\",\"background-color\":\"black\",\"color\":\"wheat\"}},[_vm._v(_vm._s(Object.keys(person)[0]))]),_vm._v(\" \"),_vm._l((person[Object.keys(person)[0]]),function(arr){return _c('div',{staticStyle:{\"overflow\":\"hidden\",\"border\":\"1px gray solid\",\"background-color\":\"gray\"},on:{\"click\":function($event){_vm.naviToUser(_vm.getName(arr),_vm.getId(arr))}}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":_vm.img_src[_vm.getId(arr)],\"alt\":\"\"}})]),_vm._v(\" \"),(_vm.getName(arr) === _vm.me)?_c('div',{staticStyle:{\"float\":\"left\",\"font-size\":\"25px\",\"font-weight\":\"bold\",\"line-height\":\"54px\",\"color\":\"white\"}},[_vm._v(_vm._s(_vm.getName(arr))+\"(我)\")]):_c('div',{staticStyle:{\"float\":\"left\",\"font-size\":\"25px\",\"font-weight\":\"bold\",\"line-height\":\"54px\",\"color\":\"white\"}},[_vm._v(_vm._s(_vm.getName(arr)))])])})],2)}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75d1aae7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/userUI/UserList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75d1aae7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75d1aae7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75d1aae7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/userUI/UserList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}